피보나치 수의 제곱의 합
=
문제 원문: https://www.acmicpc.net/problem/11440
- 수학, 분할 정복을 이용한 거듭제곱

## 문제 요약
n이 주어졌을 때, 0번째 피보나치 수의 제곱부터 n번째 피보나치 수의 제곱을 합한 값을 구하는 프로그램을 작성하시오.
## 문제 풀이
피보나치 수는 다음의 등식을 만족한다.
$$F_n = F_{n-1} + F{n-2} \ \ \ \ (n \ge 2) \tag{1}$$

이를 이용하여 다음의 식을 얻을 수 있다. 
$$F_nF_{n+1} = F_n(F_n+F_{n-1}) = F_n^2+F_nF_{n-1} = ... = \sum_{k=0}^{n}F_k^2 \tag{2}$$
구하고자 하는 값은 n번 째 피보나치 수와 n+1번째 피보나치 수의 곱과 같으므로 이 두 수를 구하면 된다. 1번 수식은 다음과 같이 행렬식으로 쓸 수 있다.

$$ \begin{pmatrix} F_n \\ F_{n+1} \end{pmatrix} = \begin{pmatrix} 0 & 1\\ 1 & 1 \end{pmatrix} \begin{pmatrix} F_{n-1} \\ F_{n} \end{pmatrix}$$ 
이를 재귀적으로 써내려가면 다음의 식이 얻어진다.
$$ \begin{pmatrix} F_n \\ F_{n+1} \end{pmatrix} = \begin{pmatrix} 0 & 1\\ 1 & 1 \end{pmatrix}^n \begin{pmatrix} F_{0} \\ F_{1} \end{pmatrix}$$
F_0와 F_1은 각각 0과 1이므로 n번 거듭제곱한 행렬의 2열의 원소가 $F_n$과 $F_{n+1}$이다.
n번 거듭제곱한 분할 정복을 이용하여 $logn$번의 행렬곱 연산을 통해 구할 수 있다.
시간복잡도는 2x2 행렬이므로 시간 복잡도는 $O(logn)$이다.

### 여담
2번 식을 처음부터 떠올린 것은 매우 어렵다고 생각한다. 제곱의 합을 써내려가보면서 규칙을 찾는 것이 방법이 될 수 있다.  
실제로 문제를 풀었던 방법은 다음과 같다.   
제곱의 합을 수식으로 표현한 뒤 (1)을 적용하여 식을 전개하다보면 $F_nF_{n+1}$이 식에 등장한다. 이를 구하기 위해 다시 (1)을 적용하면 결국 (2)의 식을 얻게 된다.



